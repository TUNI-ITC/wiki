
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Distributed_dataparallel_pytorch/">
      
      
        <link rel="next" href="../custom_LUMI_python_envs/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>An automation script to run your job to Puhti or Mahti - Tampere University ITC Wiki</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#an-automation-script-to-run-your-job-to-puhti-or-mahti" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Tampere University ITC Wiki" class="md-header__button md-logo" aria-label="Tampere University ITC Wiki" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tampere University ITC Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              An automation script to run your job to Puhti or Mahti
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tampere University ITC Wiki" class="md-nav__button md-logo" aria-label="Tampere University ITC Wiki" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Tampere University ITC Wiki
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Meta
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Meta
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Meta/how-to-contribute/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Contribute to This Wiki?
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Technical Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Technical Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Distributed_dataparallel_pytorch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Distributed data parallel training using Pytorch on the multiple nodes of CSC and Narvi clusters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    An automation script to run your job to Puhti or Mahti
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    An automation script to run your job to Puhti or Mahti
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motivation" class="md-nav__link">
    <span class="md-ellipsis">
      Motivation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    <span class="md-ellipsis">
      Disclaimer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-the-automation-script" class="md-nav__link">
    <span class="md-ellipsis">
      What is the automation script?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-use-the-automation-script" class="md-nav__link">
    <span class="md-ellipsis">
      Why use the automation script?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-does-the-automation-script-work" class="md-nav__link">
    <span class="md-ellipsis">
      How does the automation script work?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-are-the-requirements-for-using-the-automation-script" class="md-nav__link">
    <span class="md-ellipsis">
      What are the requirements for using the automation script?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-are-the-limitations-of-the-automation-script" class="md-nav__link">
    <span class="md-ellipsis">
      What are the limitations of the automation script?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-it" class="md-nav__link">
    <span class="md-ellipsis">
      How to use it
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to use it">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-start-a-new-job" class="md-nav__link">
    <span class="md-ellipsis">
      How to start a new job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-check-the-status-of-a-job" class="md-nav__link">
    <span class="md-ellipsis">
      How to check the status of a job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-stop-a-running-job" class="md-nav__link">
    <span class="md-ellipsis">
      How to stop a running job
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-this-script-for-pytorch-model-training" class="md-nav__link">
    <span class="md-ellipsis">
      How to use this script for PyTorch model training
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to use this script for PyTorch model training">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-modify-the-pytorch-based-model-training-script" class="md-nav__link">
    <span class="md-ellipsis">
      How to modify the PyTorch-based model training script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some-notifications-for-the-command-you-want-to-run" class="md-nav__link">
    <span class="md-ellipsis">
      Some notifications for the command you want to run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distributed-data-parallel-ddp-with-pytorch" class="md-nav__link">
    <span class="md-ellipsis">
      Distributed Data Parallel (DDP) with PyTorch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#some-errors-and-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Some errors and solutions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contact" class="md-nav__link">
    <span class="md-ellipsis">
      Contact
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom_LUMI_python_envs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setting up Python environments on LUMI: Or why you shouldn't use the LUMI container wrapper
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-set-up-remote-access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Set up Remote Access
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install-tuni-vpn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install TUNI VPN
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sauna-machines-tips-and-tricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Best Practices, Tips and Tricks for SAUNA Machines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tuni-tcsc-cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TUNI TCSC Cluster
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../version_control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Version Control
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../wifi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Wireless connections
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    University Bureaucracy
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            University Bureaucracy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../University-Bureaucracy/cs_curricula/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computing Sciences Curricula
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../University-Bureaucracy/employee/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Make a work contract request
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../University-Bureaucracy/msc_thesis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MSc Thesis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../University-Bureaucracy/phd_thesis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PhD Thesis
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    X Outdated
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            X Outdated
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../X-Outdated/tuni-narvi-cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TUNI Narvi Cluster
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motivation" class="md-nav__link">
    <span class="md-ellipsis">
      Motivation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    <span class="md-ellipsis">
      Disclaimer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-the-automation-script" class="md-nav__link">
    <span class="md-ellipsis">
      What is the automation script?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-use-the-automation-script" class="md-nav__link">
    <span class="md-ellipsis">
      Why use the automation script?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-does-the-automation-script-work" class="md-nav__link">
    <span class="md-ellipsis">
      How does the automation script work?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-are-the-requirements-for-using-the-automation-script" class="md-nav__link">
    <span class="md-ellipsis">
      What are the requirements for using the automation script?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-are-the-limitations-of-the-automation-script" class="md-nav__link">
    <span class="md-ellipsis">
      What are the limitations of the automation script?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-it" class="md-nav__link">
    <span class="md-ellipsis">
      How to use it
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to use it">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-start-a-new-job" class="md-nav__link">
    <span class="md-ellipsis">
      How to start a new job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-check-the-status-of-a-job" class="md-nav__link">
    <span class="md-ellipsis">
      How to check the status of a job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-stop-a-running-job" class="md-nav__link">
    <span class="md-ellipsis">
      How to stop a running job
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-this-script-for-pytorch-model-training" class="md-nav__link">
    <span class="md-ellipsis">
      How to use this script for PyTorch model training
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to use this script for PyTorch model training">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-modify-the-pytorch-based-model-training-script" class="md-nav__link">
    <span class="md-ellipsis">
      How to modify the PyTorch-based model training script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some-notifications-for-the-command-you-want-to-run" class="md-nav__link">
    <span class="md-ellipsis">
      Some notifications for the command you want to run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distributed-data-parallel-ddp-with-pytorch" class="md-nav__link">
    <span class="md-ellipsis">
      Distributed Data Parallel (DDP) with PyTorch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#some-errors-and-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Some errors and solutions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contact" class="md-nav__link">
    <span class="md-ellipsis">
      Contact
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="an-automation-script-to-run-your-job-to-puhti-or-mahti">An automation script to run your job to Puhti or Mahti</h1>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#disclaimer">Dislaimer</a></li>
<li><a href="#introduction">Introduction</a><ol>
<li><a href="#what-is-the-automation-script">What is the automation script?</a></li>
<li><a href="#why-use-the-automation-script">Why use the automation script?</a></li>
<li><a href="#how-does-the-automation-script-work">How does the automation script work?</a></li>
<li><a href="#what-are-the-requirements-for-using-the-automation-script">What are the requirements for using the automation script?</a></li>
<li><a href="#what-are-the-limitations-of-the-automation-script">What are the limitations of the automation script?</a></li>
</ol>
</li>
<li><a href="#how-to-use-it">How to use it</a><ol>
<li><a href="#how-to-start-a-new-job">How to start a new job</a></li>
<li><a href="#chow-to-heck-the-status-of-a-job">How to check the status of a job</a></li>
<li><a href="#how-to-stop-a-running-job">How to stop a running job</a></li>
</ol>
</li>
<li><a href="#how-to-use-this-script-for-pytorch-model-training">How to use this script for PyTorch model training</a><ol>
<li><a href="#how-to-modify-the-pytorch-based-model-training-script">How to modify the PyTorch-based model training script</a></li>
<li><a href="#some-notifications-for-the-command-you-want-to-run">Some notifications for the command you want to run</a></li>
<li><a href="#distributed-data-parallel-ddp-with-pytorch">Distributed Data Parallel (DDP) with PyTorch</a></li>
</ol>
</li>
<li><a href="#some-errors-and-solutions">Some errors and solutions</a></li>
<li><a href="#contact">Contact</a></li>
</ol>
<h2 id="motivation">Motivation</h2>
<p>If you want to train some huge models, you might want to use the supercomputers like Puhti or Mahti. However, due to the
limitations from SLURM clusters, the process of submitting a job to the supercomputers is not straightforward. You need
to write a SLURM script, submit the job, and check the status of the job. This process is time-consuming and needs you
to submit the job manually, which will lead to lots of time wasted if you couldn't apply for new resources after the
current work is done. Therefore, we provide an automation script to help you submit your job to Puhti or Mahti. You
don't need to worry that your job stops running during the night or your holiday anymore. Just enjoy your time and let
the automation script do the rest for you.</p>
<h2 id="disclaimer">Disclaimer</h2>
<ul>
<li>Important! Please follow the rules of CSC when using this script! If you have any questions about the rules, please check the
  information on <a href="https://docs.csc.fi/">Docs CSC</a>.</li>
<li>This script is binary encrypted, and the source code is not available. Please use it following the instructions and do
  not modify it.</li>
<li>This script is only available for Puhti or Mahti.</li>
<li>This script is only available for non-interactive jobs. If you want to run an interactive job, you need to submit the
  job manually.</li>
<li>This script is only available for 4 jobs at the same time. If you want to run more jobs, you need to stop some of them
  first.</li>
<li>If you got any problems or bugs when using this script, please <a href="#contact">contact me</a>.</li>
</ul>
<h2 id="introduction">Introduction</h2>
<h3 id="what-is-the-automation-script">What is the automation script?</h3>
<p>This is a encrypted shell script that can help you submit your job to Puhti or Mahti.</p>
<h3 id="why-use-the-automation-script">Why use the automation script?</h3>
<p>It will automatically apply for some resources and submit your job to the supercomputers. After the current job gets
close to the time limit, the script will automatically apply for new resources and submit the job again. What's more,
the old resources will be released immediately when the new resources are allocated. You don't need to worry that your
job stops running due to the time limit of the server anymore.</p>
<h3 id="how-does-the-automation-script-work">How does the automation script work?</h3>
<p>This automation script will run as the 5 steps below:</p>
<ul>
<li>Step 1: Apply for the required resources on SLURM clusters</li>
<li>Step 2: Start to timing as soon as getting the resources</li>
<li>Step 3: Submit a new request for resources when the remaining time is 1/3 of the whole requested time</li>
<li>Step 4: Stop the current job and release the resources as soon as the new resources are allocated</li>
<li>Step 5: Repeat the steps above</li>
</ul>
<h3 id="what-are-the-requirements-for-using-the-automation-script">What are the requirements for using the automation script?</h3>
<ul>
<li>You need to have a user account available on Puhti or Mahti</li>
<li>You need to put this automation script into your user directory on Puhti or Mahti</li>
<li>If this script couldn't be executed, you need to give the execution permission to it by
  running <code>chmod +x auto_gpu</code></li>
</ul>
<h3 id="what-are-the-limitations-of-the-automation-script">What are the limitations of the automation script?</h3>
<ul>
<li>This script is only available on Puhti or Mahti</li>
<li>This script limits the maximum of jobs you can run at the same time to 4 in order to avoid the congestion and the
  waste of resources</li>
<li>This script is not available for psuedo-interactive jobs, which will lead to lots of resources wasted. If you want to
  run a psuedo-interactive job, you need to submit the job manually</li>
<li>If you want to train a model with PyTorch for a long while, which would be split into several jobs due to the time
  limit of the server, you need to modify the PyTorch-based model training script. (details
  in <a href="#how-to-modify-the-pytorch-based-model-training-script">How to modify the PyTorch-based model training script</a>)</li>
<li>This script can not stop automatically. You need to stop it manually when you want to stop the automation script. (
  details in <a href="#how-to-stop-a-running-job">How to stop a running job</a>)
  And please remember to stop the script after your work is done to avoid the waste of resources.</li>
</ul>
<h2 id="how-to-use-it">How to use it</h2>
<p>Please firstly download the script from the following link: <a href="https://github.com/TUNI-ITC/wiki/raw/main/docs/assets/auto_gpu">auto_gpu</a>. Then you can put it into your
user folder. And you can run the script by the following command:</p>
<div class="highlight"><pre><span></span><code>./auto_gpu
</code></pre></div>
<p>If the permission is denied, you can give the execution permission to it by running the following command:</p>
<div class="highlight"><pre><span></span><code>chmod<span class="w"> </span>+x<span class="w"> </span>auto_gpu
</code></pre></div>
<p>Then it can work properly.</p>
<h3 id="how-to-start-a-new-job">How to start a new job</h3>
<p>This script provides a lot of options for you to customize your job. If you want to check the help information, you can
choose one of the following commands:</p>
<div class="highlight"><pre><span></span><code>./auto_gpu<span class="w"> </span>-h
./auto_gpu<span class="w"> </span>--help
</code></pre></div>
<p>And the information will be shown as below:</p>
<div class="highlight"><pre><span></span><code>Options:
<span class="w">  </span>-h,<span class="w"> </span>--help<span class="w">                            </span>Display<span class="w"> </span>help.

<span class="w">  </span>-j<span class="w"> </span>&lt;job_name&gt;,<span class="w"> </span>--job_name<span class="o">=</span>&lt;job_name&gt;<span class="w">  </span>Set<span class="w"> </span>the<span class="w"> </span>job<span class="w"> </span>name<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>use.<span class="w"> </span>No<span class="w"> </span>default<span class="w"> </span>value.<span class="w"> </span>Please<span class="w"> </span><span class="nb">set</span><span class="w"> </span>different<span class="w"> </span>names<span class="w"> </span><span class="k">for</span><span class="w"> </span>different<span class="w"> </span>jobs!<span class="w"> </span>This<span class="w"> </span>is<span class="w"> </span>an<span class="w"> </span>identifier<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>job.

<span class="w">  </span>-a<span class="w"> </span>&lt;account&gt;,<span class="w"> </span>--account<span class="o">=</span>&lt;account&gt;<span class="w">     </span>Set<span class="w"> </span>the<span class="w"> </span>account<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>use.<span class="w"> </span>No<span class="w"> </span>default<span class="w"> </span>value.

<span class="w">  </span>-t<span class="w"> </span>&lt;time&gt;,<span class="w"> </span>--want_time<span class="o">=</span>&lt;time&gt;<span class="w">         </span>Set<span class="w"> </span>the<span class="w"> </span><span class="nb">time</span><span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span>the<span class="w"> </span>GPU<span class="w"> </span><span class="o">(</span>!!!the<span class="w"> </span>maximum<span class="w"> </span>of<span class="w"> </span>one<span class="w"> </span>round,<span class="w"> </span>not<span class="w"> </span>the<span class="w"> </span>whole<span class="w"> </span>time!!!<span class="o">)</span>,<span class="w"> </span>and<span class="w"> </span>the<span class="w"> </span>format<span class="w"> </span>must<span class="w"> </span>be<span class="w"> </span><span class="s1">&#39;D-HH:MM:SS&#39;</span><span class="w"> </span><span class="o">(</span>D:<span class="w"> </span>days,<span class="w"> </span>HH:<span class="w"> </span>hours,<span class="w"> </span>MM:<span class="w"> </span>minutes,<span class="w"> </span>SS:<span class="w"> </span>seconds<span class="o">)</span>.<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span><span class="m">0</span>-00:15:00.

<span class="w">  </span>-s,<span class="w"> </span>--small<span class="w">                           </span>Use<span class="w"> </span>gpusmall<span class="w"> </span>on<span class="w"> </span>mahti.
<span class="w">  </span>-m,<span class="w"> </span>--medium<span class="w">                          </span>Use<span class="w"> </span>gpumedium<span class="w"> </span>on<span class="w"> </span>mahti.
<span class="w">  </span>-l,<span class="w"> </span>--large<span class="w">                           </span>Use<span class="w"> </span>gpu<span class="w"> </span>on<span class="w"> </span>puhti.

<span class="w">  </span>-n<span class="w"> </span>&lt;num&gt;,<span class="w"> </span>--num_nodes<span class="o">=</span>&lt;num&gt;<span class="w">           </span>Set<span class="w"> </span>the<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>nodes<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>use.<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span><span class="m">1</span>.

<span class="w">  </span>-g<span class="w"> </span>&lt;num&gt;,<span class="w"> </span>--num_gpus_per_node<span class="o">=</span>&lt;num&gt;<span class="w">   </span>Set<span class="w"> </span>the<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>GPUs<span class="w"> </span>per<span class="w"> </span>node<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>use.<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span><span class="m">1</span>.

<span class="w">  </span>--nvme<span class="o">=</span>&lt;num&gt;,<span class="w"> </span>--nvme_per_node<span class="o">=</span>&lt;num&gt;<span class="w">   </span>Set<span class="w"> </span>the<span class="w"> </span><span class="nb">local</span><span class="w"> </span>storage<span class="w"> </span>per<span class="w"> </span>node<span class="w"> </span><span class="o">(</span>GB<span class="o">)</span><span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>use.<span class="w"> </span>No<span class="w"> </span>default<span class="w"> </span>value.

<span class="w">  </span>--num_tasks_per_node<span class="o">=</span>&lt;num&gt;<span class="w">            </span>Set<span class="w"> </span>the<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>tasks<span class="w"> </span>per<span class="w"> </span>node<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>use.<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span><span class="m">1</span>.

<span class="w">  </span>-c<span class="w"> </span>&lt;num&gt;,<span class="w"> </span>--num_cpus_per_task<span class="o">=</span>&lt;num&gt;<span class="w">   </span>Set<span class="w"> </span>the<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>CPUs<span class="w"> </span>per<span class="w"> </span>task<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>use.<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span><span class="m">4</span>.

<span class="w">  </span>--mem_per_cpu<span class="o">=</span>&lt;num&gt;<span class="w">                   </span>Set<span class="w"> </span>the<span class="w"> </span>memory<span class="w"> </span>per<span class="w"> </span>CPU<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>use.<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span><span class="m">8000</span>.

<span class="w">  </span>--cmd<span class="o">=</span>&lt;command&gt;,<span class="w"> </span>--command<span class="o">=</span>&lt;command&gt;<span class="w">  </span>Set<span class="w"> </span>the<span class="w"> </span><span class="nb">command</span><span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>run,<span class="w"> </span>it<span class="w"> </span>must<span class="w"> </span>be<span class="w"> </span>double<span class="w"> </span>quote.<span class="w"> </span>No<span class="w"> </span>default<span class="w"> </span>value.
</code></pre></div>
<p>Now, if we want to apply for 1 node with 1 GPU (gpusmall) on Mahti for 1 hour to run <your_command>, we can run one of
the following commands:</p>
<div class="highlight"><pre><span></span><code>./auto_gpu<span class="w"> </span>-t<span class="w"> </span><span class="m">0</span>-01:00:00<span class="w"> </span>-s<span class="w"> </span>-j<span class="w"> </span>&lt;your_job_name&gt;<span class="w"> </span>-a<span class="w"> </span>&lt;your_csc_group_name&gt;<span class="w"> </span>--cmd<span class="o">=</span><span class="s2">&quot;&lt;your_command&gt;&quot;</span>
./auto_gpu<span class="w"> </span>--want_time<span class="o">=</span><span class="m">0</span>-01:00:00<span class="w"> </span>--small<span class="w"> </span>--job_name<span class="o">=</span>&lt;your_job_name&gt;<span class="w"> </span>--account<span class="o">=</span>&lt;your_csc_group_name&gt;<span class="w"> </span>--command<span class="o">=</span><span class="s2">&quot;&lt;your_command&gt;&quot;</span>
</code></pre></div>
<p>If you want to apply for different GPU type, more time, nodes, GPUs, CPUs, or memory, you can customize the options as
you want.</p>
<h3 id="how-to-check-the-status-of-a-job">How to check the status of a job</h3>
<p>This script will automatically output the job ID and the node name immediately after getting the resources. You can
check it directly from the terminal. If you want to check the status of the job (like partition, name, state, time,
etc.), you can run the following command:</p>
<div class="highlight"><pre><span></span><code>squeue<span class="w"> </span>-u<span class="w"> </span>&lt;your_username&gt;
</code></pre></div>
<h3 id="how-to-stop-a-running-job">How to stop a running job</h3>
<p>If you want to stop a running job, You can do the following steps:</p>
<ul>
<li>Step 1. Press <code>Ctrl + C</code> to stop the script</li>
<li>Step 2. Run the following command to check which job you want to stop, and copy the job ID</li>
</ul>
<div class="highlight"><pre><span></span><code>squeue<span class="w"> </span>-u<span class="w"> </span>&lt;your_username&gt;
</code></pre></div>
<ul>
<li>Step 3. Run the following command to stop the job</li>
</ul>
<div class="highlight"><pre><span></span><code>scancel<span class="w"> </span>&lt;job_id&gt;
</code></pre></div>
<h2 id="how-to-use-this-script-for-pytorch-model-training">How to use this script for PyTorch model training</h2>
<h3 id="how-to-modify-the-pytorch-based-model-training-script">How to modify the PyTorch-based model training script</h3>
<p>If you want to train a model with PyTorch for a long while, which might be split into several rounds due to the time
limit of the server. In this case, the model will be refreshed every time you submit a new job. Therefore, you need to
save the parameters of the model every epoch, and load the latest parameters when you start a new job. Here is an
example of how to modify the PyTorch-based model training script:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># save the model after each epoch</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">torch</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">state_dict</span><span class="p">(),</span> <span class="s1">&#39;/&lt;your_model_path&gt;/&lt;your_model_name&gt;_</span><span class="si">{:d}</span><span class="s1">.pth&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">epoch_idx</span><span class="p">))</span>

<span class="c1"># remove the old model automatically (If you want to check some old models, you can remove this line)</span>
<span class="c1"># But please remember to clean the old models in time to avoid the waste of resources</span>
<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;/&lt;your_model_path&gt;/&lt;your_model_name&gt;_</span><span class="si">{:d}</span><span class="s1">.pth&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">epoch_idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>

<span class="c1"># load the latest model</span>
<span class="n">epoch_list</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">model_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">model_name</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;/&lt;your_model_path&gt;/&#39;</span><span class="p">)</span> <span class="k">if</span>
              <span class="n">model_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.pth&#39;</span><span class="p">)]</span>
<span class="n">max_epoch</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">epoch_list</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">load_state_dict</span><span class="p">(</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;/&lt;your_model_path&gt;/&lt;your_model_name&gt;_</span><span class="si">{:d}</span><span class="s1">.pth&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">max_epoch</span><span class="p">),</span> <span class="n">map_location</span><span class="o">=</span><span class="s2">&quot;&lt;your_device&gt;&quot;</span><span class="p">))</span>
</code></pre></div>
<p><strong><em>Note</em></strong>:</p>
<ul>
<li>You need to replace <code>&lt;your_model_path&gt;</code>, <code>&lt;your_model_name&gt;</code>, and <code>&lt;your_device&gt;</code> with your own information.</li>
<li>You need to use similar methods to save any other information required to continue the training, like the optimizer,
  the scheduler, activation function, etc.</li>
<li>Please remove the saved model in time, coz they will take up a lot of space. Or you can write a script to remove the
  old models automatically.</li>
<li>Please remember to stop the script after your work is done to avoid the waste of resources.</li>
</ul>
<h3 id="some-notifications-for-the-command-you-want-to-run">Some notifications for the command you want to run</h3>
<ul>
<li>Because directly running this script may only get your default Python environment, it's better to use the absolute
  path
  of your python interpreter and the script you want to run.</li>
<li>Please also use the absolute path of the Python script you want to run.</li>
<li>If you want to save the training logs, you can redirect the output to a file.</li>
</ul>
<p>Here is an example:</p>
<div class="highlight"><pre><span></span><code>./auto_gpu<span class="w"> </span>-t<span class="w"> </span><span class="m">0</span>-01:00:00<span class="w"> </span>-s<span class="w"> </span>-j<span class="w"> </span>&lt;your_job_name&gt;<span class="w"> </span>-a<span class="w"> </span>&lt;your_csc_group_name&gt;<span class="w"> </span>--cmd<span class="o">=</span><span class="s2">&quot;/&lt;your_anaconda_path&gt;/anaconda3/envs/&lt;your_env_name&gt;/bin/python /&lt;your_python_project_path&gt;/&lt;your_python_script_name&gt;.py &gt;&gt; /&lt;your_log_path&gt;/&lt;your_log_name&gt;.log&quot;</span>
</code></pre></div>
<h3 id="distributed-data-parallel-ddp-with-pytorch">Distributed Data Parallel (DDP) with PyTorch</h3>
<p>This script is also available for Distributed Data Parallel (DDP) with PyTorch. You can apply for multiple nodes and
multiple GPUs on each node to train your model. There is already an excellent tutorial on how to use DDP on Puhti or
Mahti. Please find the
tutorial <a href="https://tuni-itc.github.io/wiki/Technical-Notes/Distributed_dataparallel_pytorch/">here</a>. Thanks to Soumya (
soumya.tripathy@tuni.fi).</p>
<h2 id="some-errors-and-solutions">Some errors and solutions</h2>
<ul>
<li>Wrong server</li>
</ul>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span>run<span class="w"> </span>this<span class="w"> </span>script<span class="w"> </span>on<span class="w"> </span>Puhti<span class="w"> </span>or<span class="w"> </span>Mahti.
</code></pre></div>
<ul>
<li>Invalid input, terminating...</li>
</ul>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span>check<span class="w"> </span>the<span class="w"> </span>input<span class="w"> </span>parameters<span class="w"> </span>and<span class="w"> </span>try<span class="w"> </span>again.
</code></pre></div>
<ul>
<li>The account is empty.</li>
</ul>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span><span class="nb">set</span><span class="w"> </span>the<span class="w"> </span>account<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>use.
</code></pre></div>
<ul>
<li>The command you want to run is empty.</li>
</ul>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span><span class="nb">set</span><span class="w"> </span>the<span class="w"> </span><span class="nb">command</span><span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>run<span class="w"> </span>with<span class="w"> </span>double<span class="w"> </span>quotes.
</code></pre></div>
<ul>
<li>The job name is empty.</li>
</ul>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span><span class="nb">set</span><span class="w"> </span>the<span class="w"> </span>job<span class="w"> </span>name<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>use.
</code></pre></div>
<ul>
<li>mahti does not support the gpu_type 'gpu'.</li>
</ul>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span>choose<span class="w"> </span>the<span class="w"> </span>correct<span class="w"> </span>GPU<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="o">(</span>small<span class="w"> </span>-s<span class="w"> </span>or<span class="w"> </span>medium<span class="w"> </span>-m<span class="o">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>Mahti.
</code></pre></div>
<ul>
<li>puhti does not support the gpu_type 'gpusmall' / 'gpumedium'.</li>
</ul>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span>choose<span class="w"> </span>the<span class="w"> </span>correct<span class="w"> </span>GPU<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="o">(</span>gpu<span class="w"> </span>-l<span class="o">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>Puhti.
</code></pre></div>
<ul>
<li>Due to the resources limitation, please do not automatically apply for an interactive job, which will lead to lots of
  waste of resources. Please apply for such jobs manually.</li>
</ul>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span>run<span class="w"> </span>some<span class="w"> </span>non-interactive<span class="w"> </span>jobs.
</code></pre></div>
<ul>
<li>The format of time should be 'D-HH:MM:SS' (D: days, HH: hours, MM: minutes, SS: seconds)</li>
</ul>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span><span class="nb">set</span><span class="w"> </span>the<span class="w"> </span><span class="nb">time</span><span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>correct<span class="w"> </span>format.
</code></pre></div>
<ul>
<li>You have already applied for the job <job_name>, please use another job name.</li>
</ul>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span><span class="nb">set</span><span class="w"> </span>a<span class="w"> </span>different<span class="w"> </span>job<span class="w"> </span>name<span class="w"> </span><span class="k">for</span><span class="w"> </span>different<span class="w"> </span>jobs.
</code></pre></div>
<ul>
<li>You have already applied for too many jobs, please stop some of them first.</li>
</ul>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span>stop<span class="w"> </span>some<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>running<span class="w"> </span>jobs.
</code></pre></div>
<ul>
<li>Something wrong happened; please check if your request meets the rules of the server.</li>
</ul>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span>check<span class="w"> </span>the<span class="w"> </span>info<span class="w"> </span>on<span class="w"> </span><span class="o">(</span>https://docs.csc.fi/computing/running/batch-job-partitions/<span class="o">)</span>
</code></pre></div>
<h2 id="contact">Contact</h2>
<p>If you have any questions or suggestions, please feel free to contact me, Shiqi Zhang (shiqi.zhang@tuni.fi).</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>