
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../install-tuni-vpn/">
      
      
        <link rel="next" href="../tuni-tcsc-cluster/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Best Practices, Tips and Tricks for SAUNA Machines - Tampere University ITC Wiki</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#best-practices-tips-and-tricks-for-sauna-machines" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Tampere University ITC Wiki" class="md-header__button md-logo" aria-label="Tampere University ITC Wiki" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tampere University ITC Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Best Practices, Tips and Tricks for SAUNA Machines
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tampere University ITC Wiki" class="md-nav__button md-logo" aria-label="Tampere University ITC Wiki" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Tampere University ITC Wiki
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Meta
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Meta
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Meta/how-to-contribute/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Contribute to This Wiki?
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Technical Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Technical Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Distributed_dataparallel_pytorch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Distributed data parallel training using Pytorch on the multiple nodes of CSC and Narvi clusters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../automatically-submit-your-job-to-puhti-or-mahti/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    An automation script to run your job to Puhti or Mahti
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom_LUMI_python_envs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setting up Python environments on LUMI: Or why you shouldn't use the LUMI container wrapper
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-set-up-remote-access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Set up Remote Access
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install-tuni-vpn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install TUNI VPN
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Best Practices, Tips and Tricks for SAUNA Machines
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Best Practices, Tips and Tricks for SAUNA Machines
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    <span class="md-ellipsis">
      Storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssd-boot-disk" class="md-nav__link">
    <span class="md-ellipsis">
      SSD: boot disk
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nvme-fast-disk" class="md-nav__link">
    <span class="md-ellipsis">
      NVMe: fast disk 💨
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdd-storage-disk" class="md-nav__link">
    <span class="md-ellipsis">
      HDD: storage disk
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrading-and-updating-the-machines" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrading and Updating the Machines
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrading and Updating the Machines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#updating" class="md-nav__link">
    <span class="md-ellipsis">
      Updating
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading-the-linux-version" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrading the Linux version
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrading the Linux version">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#additional-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Additional resources
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Development Environments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Development Environments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#miniconda-python" class="md-nav__link">
    <span class="md-ellipsis">
      Miniconda (Python)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vscode" class="md-nav__link">
    <span class="md-ellipsis">
      VSCode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-new-sudo-users" class="md-nav__link">
    <span class="md-ellipsis">
      Adding New Sudo Users
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tuni-tcsc-cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TUNI TCSC Cluster
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../version_control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Version Control
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../wifi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Wireless connections
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    University Bureaucracy
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            University Bureaucracy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../University-Bureaucracy/cs_curricula/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computing Sciences Curricula
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../University-Bureaucracy/employee/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Make a work contract request
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../University-Bureaucracy/msc_thesis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MSc Thesis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../University-Bureaucracy/phd_thesis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PhD Thesis
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    X Outdated
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            X Outdated
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../X-Outdated/tuni-narvi-cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TUNI Narvi Cluster
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    <span class="md-ellipsis">
      Storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssd-boot-disk" class="md-nav__link">
    <span class="md-ellipsis">
      SSD: boot disk
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nvme-fast-disk" class="md-nav__link">
    <span class="md-ellipsis">
      NVMe: fast disk 💨
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdd-storage-disk" class="md-nav__link">
    <span class="md-ellipsis">
      HDD: storage disk
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrading-and-updating-the-machines" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrading and Updating the Machines
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrading and Updating the Machines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#updating" class="md-nav__link">
    <span class="md-ellipsis">
      Updating
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading-the-linux-version" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrading the Linux version
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrading the Linux version">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#additional-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Additional resources
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Development Environments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Development Environments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#miniconda-python" class="md-nav__link">
    <span class="md-ellipsis">
      Miniconda (Python)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vscode" class="md-nav__link">
    <span class="md-ellipsis">
      VSCode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-new-sudo-users" class="md-nav__link">
    <span class="md-ellipsis">
      Adding New Sudo Users
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="best-practices-tips-and-tricks-for-sauna-machines">Best Practices, Tips and Tricks for SAUNA Machines</h1>
<p>This wiki page is a collection of tips and tricks, but also best practices for using the SAUNA machines. If you have a tip or trick that you would like to share, please add it to this page. If you are looking for a way to connect to SAUNA machines, please see <a href="../how-to-set-up-remote-access/">the guide for setting up the remote access</a>.</p>
<h2 id="storage">Storage</h2>
<p>General idea of different disks</p>
<h3 id="ssd-boot-disk">SSD: boot disk</h3>
<ul>
<li><em>New machines have a partition of NVMe as boot disk</em></li>
<li>Contains<ol>
<li>root (/) dir</li>
<li>/home dir</li>
<li>user’s dir (/home/{user_name})</li>
</ol>
</li>
<li>Good practices:<ol>
<li>Store your (small) repos, personal data etc. here, under you own user dir.</li>
<li>Do not store data or large files</li>
<li>Space is limited and shared between users! Be mindful of that.</li>
</ol>
</li>
</ul>
<h3 id="nvme-fast-disk">NVMe: fast disk 💨</h3>
<ul>
<li>Mounted to /home/nvme<ol>
<li>Newer machines contain a folder with user’s name <strong>where users should place all their data</strong>. Keeps everything neat.</li>
</ol>
</li>
<li>Good practices:<ol>
<li>Use this disk to run your experiments (and large repos)</li>
<li>Use this disk to store your active data</li>
<li>Space is limited and shared between users! Be mindful of that.</li>
</ol>
</li>
</ul>
<h3 id="hdd-storage-disk">HDD: storage disk</h3>
<ul>
<li>Mounted to /home/hdd<ol>
<li>Some machines have multiple HDDs mounted to e.g. <code>/home/hdd1</code> and <code>/home/hdd2</code></li>
<li>Newer machines contain a folder with user’s name where users should place all their data. Keeps everything neat.</li>
</ol>
</li>
<li>Good practices:<ol>
<li>Use this disk to store (inactive) data.</li>
<li>Space is limited and shared between users! Be mindful of that.</li>
</ol>
</li>
<li>
<p>Create folders with your own name and accumulate files under these! (If not done already)</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/home/nvme
sudo<span class="w"> </span>mkdir<span class="w"> </span>ilpo
sudo<span class="w"> </span>chown<span class="w"> </span>ilpo<span class="w"> </span>ilpo/
</code></pre></div>
</li>
<li>
<p>Now you can create files under this folder</p>
</li>
</ul>
<h2 id="upgrading-and-updating-the-machines">Upgrading and Updating the Machines</h2>
<h3 id="updating">Updating</h3>
<p>❗ <strong>Every user is responsible to keep their machines up to date</strong> ❗</p>
<p>Every now and then, the machines need to be updated and upgraded. This is done by running the following commands:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>upgrade
sudo<span class="w"> </span>apt<span class="w"> </span>autoremove
</code></pre></div>
<h3 id="upgrading-the-linux-version">Upgrading the Linux version</h3>
<p>❗ <strong>Do not do this if you are not certain of your actions</strong> ❗</p>
<p>When you should upgrade the Linux version?</p>
<ul>
<li>When you are certain that you need a newer version of the Linux kernel (e.g. for a specific feature or a package)</li>
<li>When support for the current LTS version is ending. LTS versions are supported for 5 years, but after that, you should upgrade to a newer version since older ones are not getting security updates. ➡️ Support for Ubuntu 18.04 LTS ends in April 30th 2023. After that, you should upgrade to Ubuntu 20.04 LTS or newer.</li>
</ul>
<p>If you are certain that you want to upgrade the Linux version, you can follow these steps:</p>
<ol>
<li>
<p><strong>Backup your data!</strong> This is important since the upgrade process can fail and you might lose your data.</p>
</li>
<li>
<p>Check that you have the latest updates installed</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>upgrade
sudo<span class="w"> </span>apt<span class="w"> </span>autoremove
</code></pre></div>
</li>
<li>
<p>Do a reboot</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>reboot
</code></pre></div>
</li>
<li>
<p>Check that you have screen installed. If your SSH connection is lost during the upgrade, screen will allow you to continue the upgrade from where you left off. Upgrade process will start a screen session automatically.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>screen
</code></pre></div>
</li>
<li>
<p>Install Ubuntu update tool</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>update-manager-core
</code></pre></div>
</li>
<li>
<p>Make sure you can SSH to port 1022. Addittional sshd will be started on port 1022. If something goes wrong, you can still connect to the machine and continue the upgrade.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span><span class="m">1022</span>/tcp
</code></pre></div>
</li>
<li>
<p>Start the upgrade</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span><span class="k">do</span>-release-upgrade
</code></pre></div>
</li>
<li>
<p>Reboot the machine</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>reboot
</code></pre></div>
</li>
</ol>
<h4 id="additional-resources">Additional resources</h4>
<ul>
<li>Here is a nice guide for upgrading Ubuntu 18.04 LTS: <a href="https://www.cyberciti.biz/faq/upgrade-ubuntu-18-04-to-20-04-lts-using-command-line/">How to Upgrade Ubuntu 18.04 to 20.04</a>.</li>
<li>How to reattach to the screen session if your SSH connection is lost: <a href="https://serverfault.com/questions/387547/how-do-i-reattach-to-ubuntu-servers-do-release-upgrade-process">See this serverfault post</a>.</li>
</ul>
<h2 id="development-environments">Development Environments</h2>
<h3 id="miniconda-python">Miniconda (Python)</h3>
<p>Please see this video if you are unfamiliar with Conda:</p>
<p><a href="https://youtu.be/sDCtY9Z1bqE?si=7BKNk9gAfNw8jPSk">The only CONDA tutorial you'll need to watch to get started</a> (YouTube)</p>
<ul>
<li>Miniconda is installed <strong>per user!</strong></li>
<li>
<p>Install via terminal:</p>
<p><a href="https://conda.io/projects/conda/en/latest/user-guide/install/linux.html">Installing on Linux — conda 24.1.3.dev33 documentation</a></p>
</li>
<li>
<p>Good cheat sheet for commands <a href="https://docs.conda.io/projects/conda/en/4.6.0/_downloads/52a95608c49671267e40c689e0bc00ca/conda-cheatsheet.pdf">here</a></p>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Time to time it is good to clean up the cached packages (there can be a lot of them). You can do it with the following command:</p>
<div class="highlight"><pre><span></span><code>conda<span class="w"> </span>clean<span class="w"> </span>--all
</code></pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>By default conda environments will be installed to the home directory of the user (<code>~/miniconda3/envs</code>). This is not ideal since the home directory is located on the SSD and the space is limited. Instead, you should install the environments to the NVMe disk, and make a symbolic link to the custom location to easily activate such environment. Here is how you can do it:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Create environment</span>
conda<span class="w"> </span>create<span class="w"> </span>--prefix<span class="w"> </span>/home/nvme/<span class="nv">$USER</span>/.envs/<span class="nv">$MY_ENV</span><span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.9
<span class="c1"># Create symbolic link</span>
ln<span class="w"> </span>-s<span class="w"> </span>/home/nvme/<span class="nv">$USER</span>/.envs/<span class="nv">$MY_ENV</span><span class="w"> </span>~/miniconda3/envs/<span class="nv">$MY_ENV</span>
<span class="c1"># Activate environment</span>
conda<span class="w"> </span>activate<span class="w"> </span><span class="nv">$MY_ENV</span>
</code></pre></div>
</div>
<h3 id="vscode">VSCode</h3>
<p>Install VSCode to the client machine (your laptop) and use the Remote - SSH extension to connect to the SAUNA machines. This way you can use the full power of the SAUNA machines while having a nice development environment on your laptop. See <a href="https://code.visualstudio.com/docs/remote/ssh#_connect-to-a-remote-host">the guide how to connect to a remote host from VSCode</a>. It is recommended that you first add SAUNA machine to your SSH config file. See <a href="../how-to-set-up-remote-access/#how-to-set-up-the-client-eg-your-laptop">the tip under How to setup client-section</a>.</p>
<h2 id="adding-new-sudo-users">Adding New Sudo Users</h2>
<ol>
<li>
<p>First add the user</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>adduser<span class="w"> </span>new_user
</code></pre></div>
</li>
<li>
<p>Add the user to the sudo group</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>adduser<span class="w"> </span>new_user<span class="w"> </span>sudo
</code></pre></div>
</li>
<li>
<p>Create folders for the user</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/home/nvme
sudo<span class="w"> </span>mkdir<span class="w"> </span>new_user
sudo<span class="w"> </span>chown<span class="w"> </span>new_user<span class="w"> </span>new_user/

<span class="nb">cd</span><span class="w"> </span>/home/hdd
sudo<span class="w"> </span>mkdir<span class="w"> </span>new_user
sudo<span class="w"> </span>chown<span class="w"> </span>new_user<span class="w"> </span>new_user/
</code></pre></div>
</li>
<li>
<p>Share the username and password with the new user. Tell them to change the password after the first login.</p>
</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>